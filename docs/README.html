<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title>README</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-03-01 16:26:47 EST"/>
<meta name="author" content="Sam Auciello"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  p.verse { margin-left: 3% }
  pre {
    border: 1pt solid #AEBDCC;
    background-color: #F3F5F7;
    padding: 5pt;
    font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">

<h1 class="title">README</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 HOT COCOA LISP </a>
<ul>
<li><a href="#sec-1.1">1.1 High Level Design Goals </a></li>
<li><a href="#sec-1.2">1.2 Syntax </a></li>
<li><a href="#sec-1.3">1.3 Semantics </a>
<ul>
<li><a href="#sec-1.3.1">1.3.1 nop </a></li>
<li><a href="#sec-1.3.2">1.3.2 . </a></li>
<li><a href="#sec-1.3.3">1.3.3 get </a></li>
<li><a href="#sec-1.3.4">1.3.4 list </a></li>
<li><a href="#sec-1.3.5">1.3.5 object </a></li>
<li><a href="#sec-1.3.6">1.3.6 inherit </a></li>
<li><a href="#sec-1.3.7">1.3.7 begin </a></li>
<li><a href="#sec-1.3.8">1.3.8 if </a></li>
<li><a href="#sec-1.3.9">1.3.9 when </a></li>
<li><a href="#sec-1.3.10">1.3.10 cond </a></li>
<li><a href="#sec-1.3.11">1.3.11 while </a></li>
<li><a href="#sec-1.3.12">1.3.12 for </a></li>
<li><a href="#sec-1.3.13">1.3.13 times </a></li>
<li><a href="#sec-1.3.14">1.3.14 error </a></li>
<li><a href="#sec-1.3.15">1.3.15 attempt </a></li>
<li><a href="#sec-1.3.16">1.3.16 + </a></li>
<li><a href="#sec-1.3.17">1.3.17 +1 </a></li>
<li><a href="#sec-1.3.18">1.3.18 -, *, / </a></li>
<li><a href="#sec-1.3.19">1.3.19 -1, *2, /2 </a></li>
<li><a href="#sec-1.3.20">1.3.20 ^ </a></li>
<li><a href="#sec-1.3.21">1.3.21 ^2 </a></li>
<li><a href="#sec-1.3.22">1.3.22 sqrt </a></li>
<li><a href="#sec-1.3.23">1.3.23 % </a></li>
<li><a href="#sec-1.3.24">1.3.24 &lt;, &gt;, &lt;=, &gt;=, =, != </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> HOT COCOA LISP </h2>
<div class="outline-text-2" id="text-1">

<p>Hot Cocoa Lisp is a dialect of Lisp designed to be compiled into
Javascript.  It has been said that Javascript is Scheme in C's
clothes.  Hot Cocoa Lisp is an attempt to put it back in Schemes
clothes.
</p>
</div>

<div id="outline-container-1.1" class="outline-3">
<h3 id="sec-1.1"><span class="section-number-3">1.1</span> High Level Design Goals </h3>
<div class="outline-text-3" id="text-1.1">

<ul>
<li>
Provide a clean, intuitive interface to existing
Javascript libraries/frameworks
</li>
<li>
Use the minimal syntax of Lisp
</li>
<li>
Retain the good features of Javascript
(first-class functions with closures, Dynamic objects with prototypes,
Object literals).
</li>
<li>
Fix the problems of Javascript.
(Global variables, type coersion, etc.)
</li>
<li>
Provide some of the introspective power of Lisp (quoting, macros etc.)

</li>
</ul>
</div>

</div>

<div id="outline-container-1.2" class="outline-3">
<h3 id="sec-1.2"><span class="section-number-3">1.2</span> Syntax </h3>
<div class="outline-text-3" id="text-1.2">

<p>The syntax of Hot Cocoa Lisp is the same as that of Scheme with
four exceptions:
</p><ul>
<li>
As in clojure the <i>unquote</i> symbol is <i>~</i> instead of /,/.
</li>
<li>
The square bracket notation for Array literals from JavaScript
may be used but the commas are optional.

<pre class="example">
;; HCL
[1 2 3]
// JavaScript
[1, 2, 3]
</pre>


<p>
It is translated by the parser to the equivalent <i>(list 1 2 3)</i>.
</p>
</li>
<li>
The curly bracket notation for object literals from JavaScript
may be used but the commas and colons are optional.

<pre class="example">
;; HCL
{a 1 b 2}
// JavaScript
{a: 1, b: 2}
</pre>


<p>
It is translated by the parser to the equivalent <i>(object a 1 b 2)</i>.     
</p>
</li>
<li>
As in Javascript <i>.</i> can be used as an infix object access
operator.  It works precisely as it does in JavaScript.

<pre class="example">
;; HCL
foo.bar
// JavaScript
foo.bar
</pre>


<p>
It is translated by the parser to the equivalent <i>(. foo bar)</i>.
</p>
<p>
It is also possible to use a lisp expression for the object being
accessed:
</p>
<pre class="example">
;; HCL
(some expression returning an object).keyname
// JavaScript
some(expression, returning, an, object).keyname
</pre>


</li>
</ul>

<p>Hot Cocoa Lisp can syntactically supports most of the literals from
Javascript:
</p><ul>
<li>
<i>undefined</i>, <i>null</i>, <i>true</i>, and <i>false</i> work exactly as they do
in JavaScript.
</li>
<li>
Numbers work just as they do in JavaScript.
</li>
<li>
Strings literals must use double quotes but otherwise function as
they do in JavaScript.
</li>
<li>
Functions, objects, arrays, and regular expressions are defined
by the built-in functions named <i>#</i>, <i>object</i>, <i>list</i>, and <i>re</i>
respectively.

</li>
</ul>
</div>

</div>

<div id="outline-container-1.3" class="outline-3">
<h3 id="sec-1.3"><span class="section-number-3">1.3</span> Semantics </h3>
<div class="outline-text-3" id="text-1.3">

<p>The basic logic for converting a lisp expression into compiled
JavaScript is quite simple.  If the first element of the expression
is a built-in function the compiler calls on internal logic to
compile the expression, otherwise each element is recursively
compiled and then output in the form <i>elem1(elem2, elem3, etc)</i>.
Most of the remaining semantic logic takes the form of built-in function
definitions.
</p>

</div>

<div id="outline-container-1.3.1" class="outline-4">
<h4 id="sec-1.3.1"><span class="section-number-4">1.3.1</span> nop </h4>
<div class="outline-text-4" id="text-1.3.1">

<p>Takes no arguments and returns undefined.
</p>
<pre class="example">
;; HCL
(for ((var i 0) (&lt; i 10) (++ i))
    (nop))
// JavaScript
for (var i = 0; i &lt; 10; i++) { }
</pre>


</div>

</div>

<div id="outline-container-1.3.2" class="outline-4">
<h4 id="sec-1.3.2"><span class="section-number-4">1.3.2</span> . </h4>
<div class="outline-text-4" id="text-1.3.2">

<p>Takes two or more arguments and does chained object access with
keys that were known at program writing time.
</p>
<pre class="example">
;; HCL
(. foo bar baz)
;; OR
foo.bar.baz
// JavaScript
foo.bar.baz
</pre>


</div>

</div>

<div id="outline-container-1.3.3" class="outline-4">
<h4 id="sec-1.3.3"><span class="section-number-4">1.3.3</span> get </h4>
<div class="outline-text-4" id="text-1.3.3">

<p>Takes exactly two arguments and does object/list access using a
key that might not be known until run time.
</p>
<pre class="example">
;; HCL
(get list 10)
// JavaScript
list[1]
</pre>


<p>
<b>Synonyms:</b> <i>nth</i>
</p>
</div>

</div>

<div id="outline-container-1.3.4" class="outline-4">
<h4 id="sec-1.3.4"><span class="section-number-4">1.3.4</span> list </h4>
<div class="outline-text-4" id="text-1.3.4">

<p>Create and return a new JavaScript array containing the given
arguments.
</p>
<pre class="example">
;; HCL
(list 1 2 3)
;; OR
[1 2 3]
// JavaScript
[1, 2, 3]
</pre>


<p>
<b>Synonyms:</b> <i>array</i>
</p>
</div>

</div>

<div id="outline-container-1.3.5" class="outline-4">
<h4 id="sec-1.3.5"><span class="section-number-4">1.3.5</span> object </h4>
<div class="outline-text-4" id="text-1.3.5">

<p>Takes an even number of arguments which it interprets pairwise as
key/value pairs for a new JavaScript object which it creates and
returns.
</p>
<pre class="example">
;; HCL
(object name "Sam" age 23)
;; OR
{ name "Sam" age 23 }
// JavaScript
{name: "Sam", age: 23}
</pre>


</div>

</div>

<div id="outline-container-1.3.6" class="outline-4">
<h4 id="sec-1.3.6"><span class="section-number-4">1.3.6</span> inherit </h4>
<div class="outline-text-4" id="text-1.3.6">

<p>Takes a single argument and returns a new empty object that
inherits prototypically from the argument.
</p>
<pre class="example">
;; HCL
(def x { a 1 })
(def y (inherit x))
y.a ; 1
// JavaScript
var x = {a: 1};
var y = Object.create(x);
y.a // 1
</pre>


</div>

</div>

<div id="outline-container-1.3.7" class="outline-4">
<h4 id="sec-1.3.7"><span class="section-number-4">1.3.7</span> begin </h4>
<div class="outline-text-4" id="text-1.3.7">

<p>Equivalent to <i>progn</i> in Common Lisp.  It simply evaluates all of
it's arguments and returns the last one.
</p>
<pre class="example">
;; HCL
(if (condition)
    (begin
       (thing one)
       (thing two)
  (other thing)))
// JavaScript
if (condition) {
  thing(one);
  thing(two);
} else {
  other(thing);
}
</pre>


</div>

</div>

<div id="outline-container-1.3.8" class="outline-4">
<h4 id="sec-1.3.8"><span class="section-number-4">1.3.8</span> if </h4>
<div class="outline-text-4" id="text-1.3.8">

<p>Takes three arguments and returns the second if the first is true
and the third if the first is false.
</p>
<pre class="example">
;; HCL
(if (= x 1) "one" "not one")
// JavaScript
((x === 1) ? "one" : "not one")
</pre>


</div>

</div>

<div id="outline-container-1.3.9" class="outline-4">
<h4 id="sec-1.3.9"><span class="section-number-4">1.3.9</span> when </h4>
<div class="outline-text-4" id="text-1.3.9">

<p>Takes two or more arguments and executes the expressions following
the first argument if the first argument is true
</p>
<pre class="example">
;; HCL
(when (= x 1) (console.log "x is one"))
// JavaScript
((x === 1) &amp;&amp; (function() { console.log("x is one"); })())
</pre>


</div>

</div>

<div id="outline-container-1.3.10" class="outline-4">
<h4 id="sec-1.3.10"><span class="section-number-4">1.3.10</span> cond </h4>
<div class="outline-text-4" id="text-1.3.10">

<p>Checks the first element of each argument until it finds one that
evaluates to true and returns the second element of that
argument.  Returns <i>undefined</i> if nonde is found.
</p>
<pre class="example">
;; HCL
(cond
 ((= x 1) 7)
 ((= y 2) 8)
 (true 9))
// JavaScript
(x === 1) ? 7 : (y === 2) ? 8 : 9
</pre>


</div>

</div>

<div id="outline-container-1.3.11" class="outline-4">
<h4 id="sec-1.3.11"><span class="section-number-4">1.3.11</span> while </h4>
<div class="outline-text-4" id="text-1.3.11">

<p>Evaluates each of it's arguments in a loop until the first
evalutes to false.
</p>
<pre class="example">
;; HCL
(while true
   (do this forever)
   (and this))
// JavaScript
while (true) {
  do(this, forever);
  and(this);
}
</pre>


</div>

</div>

<div id="outline-container-1.3.12" class="outline-4">
<h4 id="sec-1.3.12"><span class="section-number-4">1.3.12</span> for </h4>
<div class="outline-text-4" id="text-1.3.12">

<p>The first argument is a list of either two of three elements
defining the loop.  If there are two elements then the loop
function like a python for loop with the for argument being an
iteration variable and the second being a list (or any other
object with a length property).
</p>
<pre class="example">
;; HCL
(for (x list)
   (print x))
// JavaScript
for (var i = 0; i &lt; list.length; i++) {
  var x = list[i];
  print(x);
}
</pre>


<p>
If there are three elements in the first argument then the loop
functions like a JavaScript or C for loop with the first element
being evaluated once at the beginning, the second being evaluated
at the beginning of each pass throught the loop to determine if
the loop should continue, and the third being called after each
pass through the loop.
</p>
<pre class="example">
;; HCL
(for ((var node linked-list) (not (nil? node)) (set node node.next))
   (print node.value))
// JavaScript
for (var node = linked_list; node !== undefined ; node = node.next) {
  print(node.value);
}
</pre>


</div>

</div>

<div id="outline-container-1.3.13" class="outline-4">
<h4 id="sec-1.3.13"><span class="section-number-4">1.3.13</span> times </h4>
<div class="outline-text-4" id="text-1.3.13">

<p>The first argument of the list should contain two elements; the
first an iteration variable and the second a number.  The loop
executes the specified number of times each time setting the
variable to the number corresponding to the interation (starting
with 0).
</p>
<pre class="example">
;; HCL
(times (x 10)
  (print x))
// JavaScript
for (var x = 0; x &lt; 10; x++) {
  print(x);
}
</pre>


</div>

</div>

<div id="outline-container-1.3.14" class="outline-4">
<h4 id="sec-1.3.14"><span class="section-number-4">1.3.14</span> error </h4>
<div class="outline-text-4" id="text-1.3.14">

<p>Takes a string and throws a JavaScript exception with the
specified message.
</p>
<pre class="example">
;; HCL
(error "This shouldn't be happening")
// JavaScript
throw new Error("This shouldn't be happening");
</pre>


<p>
<b>Synonyms:</b> <i>throw</i>
</p>
</div>

</div>

<div id="outline-container-1.3.15" class="outline-4">
<h4 id="sec-1.3.15"><span class="section-number-4">1.3.15</span> attempt </h4>
<div class="outline-text-4" id="text-1.3.15">

<p>Encloses a try/catch/finally block.  The first argument should be
a list beginning with the symbol "try" and whos remaining
arguments will be executed in the try block.  The second argument
may either be a list beginning with "catch" or a list beginning
with "finally" and in the former case there can be a third
argument beginning with "finally".  The second element of a catch
block should be a variable to store the caught error in.
</p>
<pre class="example">
;; HCL
(attempt
  (try
    (open a file)
    (code that may fail))
  (catch e
    (console.log "An error occured: " e))
  (finally (close the file)))
// JavaScript
try {
  open(a, file);
  code(that, may, fail);
} catch (e) {
  console.log("An error occured: ", e);
} finally {
  close(the, file);
}
</pre>


</div>

</div>

<div id="outline-container-1.3.16" class="outline-4">
<h4 id="sec-1.3.16"><span class="section-number-4">1.3.16</span> + </h4>
<div class="outline-text-4" id="text-1.3.16">

<p>Adds all of the arguments together.
</p>
<pre class="example">
;; HCL
(+ 1 2 3)
// JavaScript
(1 + 2 + 3)
</pre>


<p>
<b>Synonyms:</b> <i>cat</i>
</p>
</div>

</div>

<div id="outline-container-1.3.17" class="outline-4">
<h4 id="sec-1.3.17"><span class="section-number-4">1.3.17</span> +1 </h4>
<div class="outline-text-4" id="text-1.3.17">

<p>Shorthand to returns the specified number plus 1.
</p>
<pre class="example">
;; HCL
(+1 2)
// JavaScript
(1 + 2)
</pre>


</div>

</div>

<div id="outline-container-1.3.18" class="outline-4">
<h4 id="sec-1.3.18"><span class="section-number-4">1.3.18</span> -, *, / </h4>
<div class="outline-text-4" id="text-1.3.18">

<p>The familiar arithmentic operations work just like "+" except
that - can take a single argument and return it's opposite.
</p>
<pre class="example">
;; HCL
(+ 1 (* 3 (/ 12 6)))
// JavaScript
(1 + (3 * (12 / 6)))
</pre>


</div>

</div>

<div id="outline-container-1.3.19" class="outline-4">
<h4 id="sec-1.3.19"><span class="section-number-4">1.3.19</span> -1, *2, /2 </h4>
<div class="outline-text-4" id="text-1.3.19">

<p>Shorthand for subtract 1, double, or half respecitvely.
</p>
<pre class="example">
;; HCL
(*2 (-1 (/2 8)))
// JavaScript
(((8 / 2) - 1) * 2)
</pre>


<p>
<b>Synonyms:</b> <b>\*2</b>: <i>double</i>, <b>/2</b>: <i>half</i>
</p>
</div>

</div>

<div id="outline-container-1.3.20" class="outline-4">
<h4 id="sec-1.3.20"><span class="section-number-4">1.3.20</span> ^ </h4>
<div class="outline-text-4" id="text-1.3.20">

<p>Returns the first argument to the power of the second.
</p>
<pre class="example">
;; HCL
(^ 2 n)
// JavaScript
Math.pow(2, n);
</pre>


</div>

</div>

<div id="outline-container-1.3.21" class="outline-4">
<h4 id="sec-1.3.21"><span class="section-number-4">1.3.21</span> <sup>2</sup> </h4>
<div class="outline-text-4" id="text-1.3.21">

<p>Shorthand for square.
</p>
<pre class="example">
;; HCL
(^2 17)
// JavaScript
(17 * 17)
</pre>


<p>
<b>Synonyms:</b> <i>square</i>
</p>
</div>

</div>

<div id="outline-container-1.3.22" class="outline-4">
<h4 id="sec-1.3.22"><span class="section-number-4">1.3.22</span> sqrt </h4>
<div class="outline-text-4" id="text-1.3.22">

<p>Take the square root of the number.
</p>
<pre class="example">
;; HCL
(sqrt 100)
// JavaScript
Math.sqrt(100)
</pre>


</div>

</div>

<div id="outline-container-1.3.23" class="outline-4">
<h4 id="sec-1.3.23"><span class="section-number-4">1.3.23</span> % </h4>
<div class="outline-text-4" id="text-1.3.23">

<p>Returns the remainder produced when dividing the first argument by
the second.
</p>
<pre class="example">
;; HCL
(% 7 5)
// JavaScript
(7 % 5)
</pre>


<p>
<b>Synonyms:</b> <i>mod</i>
</p>
</div>

</div>

<div id="outline-container-1.3.24" class="outline-4">
<h4 id="sec-1.3.24"><span class="section-number-4">1.3.24</span> &lt;, &gt;, &lt;=, &gt;=, =, != </h4>
<div class="outline-text-4" id="text-1.3.24">

<p>The familiar boolean operators.
</p>
<p>
<b>Synonyms:</b> <b>&lt;</b>: <i>lt?</i>, <b>&gt;</b>: <i>gt?</i>, <b>&lt;=</b>: <i>lte?</i>, <b>&gt;=</b>: <i>gte?</i>,
<b>=</b>: <i>eq?</i>, <i>is?</i>, <b>!=</b>: <i>neq?</i>, <i>isnt?</i> 
</p>

</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">
<p class="footnote"><sup><a class="footnum" name="fn.1" href="#fnr.1">1</a></sup> FOOTNOTE DEFINITION NOT FOUND: 10
</p>
</div>
</div>
<div id="postamble">
<p class="author"> Author: Sam Auciello
<a href="mailto:olleicua@guest-wireless-225.subnet-226.amherst.edu">&lt;olleicua@guest-wireless-225.subnet-226.amherst.edu&gt;</a>
</p>
<p class="date"> Date: 2013-03-01 16:26:47 EST</p>
<p class="creator">HTML generated by org-mode 6.33x in emacs 23</p>
</div>
</div>
</body>
</html>
